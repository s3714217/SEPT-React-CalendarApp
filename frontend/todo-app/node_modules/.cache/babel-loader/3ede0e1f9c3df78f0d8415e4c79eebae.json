{"ast":null,"code":"import _defineProperty from \"/Users/mohammed/Desktop/RMIT1950/COSC2299-Software-Engineering/Major Project/Avengers/frontend/todo-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/mohammed/Desktop/RMIT1950/COSC2299-Software-Engineering/Major Project/Avengers/frontend/todo-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mohammed/Desktop/RMIT1950/COSC2299-Software-Engineering/Major Project/Avengers/frontend/todo-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mohammed/Desktop/RMIT1950/COSC2299-Software-Engineering/Major Project/Avengers/frontend/todo-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mohammed/Desktop/RMIT1950/COSC2299-Software-Engineering/Major Project/Avengers/frontend/todo-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mohammed/Desktop/RMIT1950/COSC2299-Software-Engineering/Major Project/Avengers/frontend/todo-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/mohammed/Desktop/RMIT1950/COSC2299-Software-Engineering/Major Project/Avengers/frontend/todo-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/mohammed/Desktop/RMIT1950/COSC2299-Software-Engineering/Major Project/Avengers/frontend/todo-app/src/components/todo/ForgotPasswordComponent.jsx\";\nimport React, { Component } from \"react\";\nimport AuthenticationService from \"./AuthenticationService.js\";\n\nvar ForgotPasswordComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ForgotPasswordComponent, _Component);\n\n  function ForgotPasswordComponent(props) {\n    var _this;\n\n    _classCallCheck(this, ForgotPasswordComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ForgotPasswordComponent).call(this, props)); // initalize variables\n\n    _this.state = {\n      username: \"\",\n      first_security_question: \"\",\n      second_security_question: \"\",\n      third_security_question: \"\",\n      hasLoginFailed: false,\n      showSuccessMessage: false,\n      usernameDoesNotExist: false,\n      notEnteredUsername: false\n    };\n    _this.handleUsernameChange = _this.handleUsernameChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePasswordChange = _this.handlePasswordChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.recoverPasswordClicked = _this.recoverPasswordClicked.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ForgotPasswordComponent, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      console.log(this.state);\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"handleUsernameChange\",\n    value: function handleUsernameChange(event) {\n      console.log(event.target.name);\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"handlePasswordChange\",\n    value: function handlePasswordChange(event) {\n      console.log(event.target.value);\n      this.setState({\n        password: event.target.value\n      });\n    } // rcover password function, triggered when user clicks on recover password button\n\n  }, {\n    key: \"recoverPasswordClicked\",\n    value: function recoverPasswordClicked() {\n      // check if username field is empty\n      if (this.state.username.length === 0) {\n        // display message if username field is empty\n        this.setState({\n          notEnteredUsername: true\n        });\n      } else {\n        // discard the error message\n        this.setState({\n          notEnteredUsername: false\n        }); // check if username exists in our database, we have mock value for now\n\n        if (this.state.username === \"Mohammed\") {\n          // discard error message\n          this.setState({\n            usernameDoesNotExist: false\n          }); // check if all security questions are answered\n\n          if (this.state.first_security_question.length != 0 && this.state.second_security_question.length != 0 && this.state.third_security_question.length != 0) {\n            // for now, let's try and redirect only.\n            this.setState({\n              showSuccessMessage: true\n            });\n            this.setState({\n              hasLoginFailed: false\n            });\n            this.props.history.push(\"/recoverpaasword/\".concat(this.state.username));\n            this.setState({\n              showSuccessMessage: true\n            });\n            this.setState({\n              hasLoginFailed: false\n            });\n          } else {\n            // if security questions aren't answered, display error message\n            this.setState({\n              showSuccessMessage: false\n            });\n            this.setState({\n              hasLoginFailed: true\n            });\n          }\n        } else {\n          // if username doesn't exist, display error message\n          this.setState({\n            usernameDoesNotExist: true\n          });\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Recover Password\"), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, PostData.map(function (users, index) {\n        if (_this2.state.username === users.userName) {\n          return _this2.state.validLogin = true;\n        }\n      }), this.state.notEnteredUsername && React.createElement(\"div\", {\n        className: \"alert alert-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Enter your username\"), this.state.usernameDoesNotExist && React.createElement(\"div\", {\n        className: \"alert alert-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Username doesn't exist in our database\"), this.state.hasLoginFailed && React.createElement(\"div\", {\n        className: \"alert alert-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Please make sure not to leave any field empty\"), this.state.showSuccessMessage && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Login Sucessful\"), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Please Answer these Security Questions for the Purpose of Recovring your Account\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), \"Enter your username?\", \" \", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        value: this.state.username,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), \"What is your favorite color?\", \" \", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"first_security_question\",\n        value: this.state.first_security_question,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), \"What is your father name?\", \" \", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"second_security_question\",\n        value: this.state.second_security_question,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), \"What is your mother's middle name?\", \" \", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"third_security_question\",\n        value: this.state.third_security_question,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-success\",\n        onClick: this.recoverPasswordClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Recover Password\")));\n    }\n  }]);\n\n  return ForgotPasswordComponent;\n}(Component);\n\nexport default ForgotPasswordComponent;","map":{"version":3,"sources":["/Users/mohammed/Desktop/RMIT1950/COSC2299-Software-Engineering/Major Project/Avengers/frontend/todo-app/src/components/todo/ForgotPasswordComponent.jsx"],"names":["React","Component","AuthenticationService","ForgotPasswordComponent","props","state","username","first_security_question","second_security_question","third_security_question","hasLoginFailed","showSuccessMessage","usernameDoesNotExist","notEnteredUsername","handleUsernameChange","bind","handlePasswordChange","handleChange","recoverPasswordClicked","event","console","log","setState","target","name","value","password","length","history","push","PostData","map","users","index","userName","validLogin"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport AuthenticationService from \"./AuthenticationService.js\";\n\nclass ForgotPasswordComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    // initalize variables\n    this.state = {\n      username: \"\",\n      first_security_question: \"\",\n      second_security_question: \"\",\n      third_security_question: \"\",\n      hasLoginFailed: false,\n      showSuccessMessage: false,\n      usernameDoesNotExist: false,\n      notEnteredUsername: false\n    };\n    this.handleUsernameChange = this.handleUsernameChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.recoverPasswordClicked = this.recoverPasswordClicked.bind(this);\n  }\n\n  handleChange(event) {\n    console.log(this.state);\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handleUsernameChange(event) {\n    console.log(event.target.name);\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handlePasswordChange(event) {\n    console.log(event.target.value);\n    this.setState({ password: event.target.value });\n  }\n\n  // rcover password function, triggered when user clicks on recover password button\n  recoverPasswordClicked() {\n    // check if username field is empty\n    if (this.state.username.length === 0) {\n      // display message if username field is empty\n      this.setState({ notEnteredUsername: true });\n    } else {\n      // discard the error message\n      this.setState({ notEnteredUsername: false });\n      // check if username exists in our database, we have mock value for now\n      if (this.state.username === \"Mohammed\") {\n        // discard error message\n        this.setState({ usernameDoesNotExist: false });\n        // check if all security questions are answered\n        if (\n          this.state.first_security_question.length != 0 &&\n          this.state.second_security_question.length != 0 &&\n          this.state.third_security_question.length != 0\n        ) {\n          // for now, let's try and redirect only.\n          this.setState({ showSuccessMessage: true });\n          this.setState({ hasLoginFailed: false });\n          this.props.history.push(`/recoverpaasword/${this.state.username}`);\n          this.setState({ showSuccessMessage: true });\n          this.setState({ hasLoginFailed: false });\n        } else {\n          // if security questions aren't answered, display error message\n          this.setState({ showSuccessMessage: false });\n          this.setState({ hasLoginFailed: true });\n        }\n      } else {\n        // if username doesn't exist, display error message\n        this.setState({ usernameDoesNotExist: true });\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Recover Password</h1>\n        <div className=\"container\">\n          {PostData.map((users, index) => {\n            if (this.state.username === users.userName) {\n              return (this.state.validLogin = true);\n            }\n          })}\n          {/*<ShowInvalidCredentials hasLoginFailed={this.state.hasLoginFailed}/>p*/}\n          {this.state.notEnteredUsername && (\n            <div className=\"alert alert-warning\">Enter your username</div>\n          )}\n          {this.state.usernameDoesNotExist && (\n            <div className=\"alert alert-warning\">\n              Username doesn't exist in our database\n            </div>\n          )}\n          {this.state.hasLoginFailed && (\n            <div className=\"alert alert-warning\">\n              Please make sure not to leave any field empty\n            </div>\n          )}\n          {this.state.showSuccessMessage && <div>Login Sucessful</div>}\n          {/*<ShowLoginSuccessMessage showSuccessMessage={this.state.showSuccessMessage}/>*/}\n          <h5>\n            Please Answer these Security Questions for the Purpose of Recovring\n            your Account\n          </h5>\n          <br></br>\n          Enter your username?{\" \"}\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={this.state.username}\n            onChange={this.handleChange}\n          />\n          <br></br>\n          What is your favorite color?{\" \"}\n          <input\n            type=\"text\"\n            name=\"first_security_question\"\n            value={this.state.first_security_question}\n            onChange={this.handleChange}\n          />\n          <br></br>\n          What is your father name?{\" \"}\n          <input\n            type=\"text\"\n            name=\"second_security_question\"\n            value={this.state.second_security_question}\n            onChange={this.handleChange}\n          />\n          <br></br>\n          What is your mother's middle name?{\" \"}\n          <input\n            type=\"text\"\n            name=\"third_security_question\"\n            value={this.state.third_security_question}\n            onChange={this.handleChange}\n          />\n          <br></br>\n          <button\n            className=\"btn btn-success\"\n            onClick={this.recoverPasswordClicked}\n          >\n            Recover Password\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ForgotPasswordComponent;\n"]},"metadata":{},"sourceType":"module"}